# Environment variables (set first, before tools are loaded)
export XDG_CONFIG_HOME="$HOME/.config"
export XDG_DATA_HOME="$HOME/.local/share"
export ECSPRESSO_FILTER_COMMAND=fzf

# For zsh-autocomplete
# https://github.com/marlonrichert/zsh-autocomplete#additional-step-for-ubuntu
skip_global_compinit=1

# PATH setup (order matters: later entries take priority)
# Cargo (for non-nix tools)
[ -f "$HOME/.cargo/env" ] && . "$HOME/.cargo/env"

# Add homebrew binaries
export PATH="/usr/local/bin:$PATH"
export PATH="/opt/homebrew/bin:/opt/homebrew/sbin:$PATH"

# Add my custom commands
export PATH="$HOME/bin:$PATH"

# Nix package manager (load last to ensure nix-installed tools take priority)
# Note: nix-daemon.sh may already be sourced by /etc/profile.d, so we also explicitly prepend paths
if [ -e '/nix/var/nix/profiles/default/etc/profile.d/nix-daemon.sh' ]; then
  . '/nix/var/nix/profiles/default/etc/profile.d/nix-daemon.sh'
fi
if [ -e "$HOME/.nix-profile/etc/profile.d/hm-session-vars.sh" ]; then
  . "$HOME/.nix-profile/etc/profile.d/hm-session-vars.sh"
fi
# Explicitly prepend nix paths to ensure they take priority
if [ -d "$HOME/.nix-profile/bin" ]; then
  export PATH="$HOME/.nix-profile/bin:$PATH"
fi

